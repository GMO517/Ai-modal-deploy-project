<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title></title>
</head>

<body>
  <input type="file" name="files" id="files" value="" />
  <div class="chat-messages">
</body>

<script type="text/javascript">
  var files = document.getElementById('files');
  files.onchange = function () {
    var file = files.files[0];
    var reader = new FileReader();
    reader.readAsText(file, 'gb2312');

    reader.onload = function () {

      let data = (reader.result).split(/[\n]/);
      // var answer = JSON.stringify(data);
      console.log(data[0]);
      for (i = 0; i < data.length; i++) {
        console.log(data[i]);
        createForm(data[i]);
      }



      function createForm(x) {
        //創造form區 
        const div = document.createElement('div');
        div.classList.add('message');
        const p = document.createElement('p');
        p.classList.add('meta');
        p.innerText = x;
        div.appendChild(p);
        document.querySelector('.chat-messages').appendChild(div);

        // function outputMessage(data) {
        //   const div = document.createElement('div');
        //   div.classList.add('message');
        //   const p = document.createElement('p');
        //   p.classList.add('meta');
        //   p.innerText = data.name;
        //   div.appendChild(p);
        //   const para = document.createElement('p');
        //   para.classList.add('text');
        //   para.innerText = data.msg;
        //   div.appendChild(para);
        //   document.querySelector('.chat-messages').appendChild(div);
        // }

      }
    }
  } 
</script>

</html>